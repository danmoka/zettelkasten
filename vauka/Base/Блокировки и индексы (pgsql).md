22092022 1228
Tags: #z #dev

---
# Блокировки и индексы

Типы индексов и их блокировки:
- B-tree, GiST, SP-GiST - для управления чтением/записью применяются краткосрочные блокировки на уровне страниц. После добавления/извлечения блокировка строки индекса освобождается. Максимальное распараллеливание без взаимоблокировок.
- хэш индексы - для управления чтением/записью применяются блокировки на уровне хэш групп. Блокировки освобождаются после обработки всей группы. Возможны взаимоблокировки.
- GIN - для управления чтением/записью применяются краткосрочные блокировки на уровне страницы. После добавления/извлечения блокировка строки индекса освобождается. Операции с индексом GIN влекут за собой добавление нескольких ключей индекса, так что будет несколько операций.

Если скалярные данные, то выбирай B-tree, иначе GiST и SP-GiST или GIN.

---
### Zero-Links
- first
- second

---
### Links
- [[Изоляция транзакций (pgsql)]]