21092022 1352
Tags: #z #dev

---
# Частичные индексы

Частичные индексы строятся для подмножества строк, которые отвечают некоторому предикату. Это позволяет не строить, не обновлять и не хранить индекс для строк с распространенным значением, что сокращает расходы на хранение и поиск по индексу.

## Пример

Частичный индекс только на неоплаченные заказы по столбцу номера заказа:

```sql
CREATE INDEX orders_unbilled_index ON orders (order_nr)
WHERE billed IS NOT TRUE;

-- индекс задействован:
SELECT * FROM orders WHERE billed IS TRUE AND order_nr < 10000;
-- индекс задействован (даже если order_nr не задействован):
SELECT * FROM orders WHERE billed IS TRUE AND amount > 5000;
```

---
### Zero-Links
- 

---
### Links
- [[Индексы (pgsql)]]