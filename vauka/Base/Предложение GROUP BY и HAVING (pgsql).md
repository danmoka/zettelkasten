19092022 1319
Tags: #z #dev

---
# GROUP BY и HAVING

Предложение *GROUP BY* используется для группировки строк. Если значения строк в указанных колонках равны, то строки группируются, представляя из себя одну строку, которая отражает группу. Вместо колонок можно указывать столбцы из списка выборки или выражения.

Для того, чтобы отфильтровать сгруппированные строки, используется предложение *HAVING*. Можно использовать колонки, которые были сгруппированы, и данные, которые были получены в результате применения агрегирующих функций.

Агрегатные выражения не обязательно должны быть одинаковыми во всех частях запроса, например, в *SELECT* это может быть sum(price), а в *HAVING* sum(price) - 1000.

## Пример

```sql
SELECT product_type, avg(price)
FROM product
GROUP BY product_type
HAVING avg(price) > 100;
```

---
### Zero-Links
- 

---
### Links
- [[Табличные выражения (pgsql)]]