15092022 1552
Tags: #z #dev

---
# Ограничения-исключения

Позволяет задать ограничение, которое оценивает по две строки в таблице. Можно задать столбцы и операторы для проверки. EXCLUDE гарантирует, что при сравнении любых двух строк, которые сравниваются по указанным столбцам с определенными операторами, результат не будет равен TRUE для всех сравнений. Для проверки по парам нужно время, чтобы это было быстро нужно использовать специальную структуру индекса - это часть, которая относится к gist.
В принципе - это похоже на ограничение UNIQUE, если используется оператор равенства.

## Пример

```sql
CREATE TABLE product (
    product_no integer PRIMARY KEY,
    name text,
    EXCLUDE USING gist (name WITH =)
);
```

---
### Zero-Links
- 

---
### Links
- [[Ограничения (pgsql)]]