27112022 1410
Tags: #z #dev

---
# Принцип устойчивости зависимостей

Рассмотрим 2 вида компонентов:
- 1 легко изменяемые компоненты
- 2 трудно изменяемые компоненты

Если 2 начинает зависеть от 1, то 1 также становится трудно изменяемым.
Поэтому направление зависимости должно быть направлено в сторону устойчивости, а не изменчивости.

## Устойчивость

Устойчивый компонент:
- компонент со множеством входящих зависимостей
- прежде чем менять такой компонент, требуется согласовать изменения со всеми компонентами, которые зависят от него

Неустойчивый компонент:
- компонент со множеством исходящих зависимостей
- часто изменяется по причине изменения компонентов, от которых он зависит

Независимый компонент:
- компонент без исходящих зависимостей (т.е. не зависит от других компонентов)

![[Pasted image 20221127145507.png]]

## Метрики устойчивости

f_in - количество входящих зависимостей
f_out - исходящих
I = f_out / (f_in + f_out) (принимает значение от 0 до 1).

- если много входящих зависимостей, то знаменатель увеличивается и I -> 0, а значит компонент устойчивый при I -> 0
- если мало входящих зависимостей, то знаменатель уменьшается и I -> 1, а значит компонент неустойчивый при I -> 1

Не все компоненты должны быть устойчивыми. В таком случае нечего будет изменять.

---
### Zero-Links
- 

---
### Links
- [[Компоненты]]

---
### Outer links
- [[Чистая архитектура, Роберт Мартин]] (с. 129)