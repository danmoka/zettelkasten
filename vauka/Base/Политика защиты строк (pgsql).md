15092022 1717
Tags: #z #dev

---
# Политика защиты строк

В pgsql можно включить политику защиты строк (Row Level Security).

Для включения защиты используется команды:

```sql
ALTER TABLE product ENABLE ROW LEVEL SECURITY;
```

Назначение политики на таблицу *product* на возможность изменять строки для роли *manager*:

```sql
CREATE POLICY product_update ON product TO manager
    FOR UPDATE
    USING (true);
```

Если установлено несколько политик, то для разрешения/запрета действия используется логическое или при вычислении выражений в политиках. Это значит, что, если хотя бы одна политика разрешает (возвращает true), то действие выполнять можно.

---
### Zero-Links
- 

---
### Links
- [[Основы таблиц (pgsql)]]