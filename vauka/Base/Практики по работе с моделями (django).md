23032023 1517
Tags: #z #dev

---
# Практики по работе с моделями

- корректные имена моделей
	  использовать единственное число, если модель не содержит информацию о нескольких объектах
- именование отношений
	  если есть модель `Article` и `User`, то отношение 'автор статьи' лучше записать через `Article.author = models.ForeignKey(User)`, чем `Article.user = models.ForeignKey(User)`
- корректные связанные имена
	  из примера выше можно задать связанное имя `related_name='articles'` для того, чтобы использовать понятное `users.articles` вместо `users.article_set`
 - порядок атрибутов модели
	- константы (например, Choices)
	- поля
	- мета
	- `__str__`
	- другие методы класса
	- `clean`
	- `save`
	- пользовательские методы
 - `JSONField` нарушает нормальную форму, его стоит избегать, если возможно
 - `BooleanField` использовать без `null=True` или `blank=True`, для этого есть `NullBooleanField`
 - БЛ не место в моделях (нет толстым моделям!)
 - `ModelName.DoesNotExist` лучше, чем `ObjectDoesNotExist`
 - варианты (choices)
	- раполагать варианты в хронологическом порядке
	- определять варинты до определения самого поля с вариантами
 - не вызывать `all` до `filter()` или `count()`
 - не использовать имя модели в имени поля
 - использовать `count()` вместо `ken(queryset.all())`
 - использовать `help_text` в качестве доп. документации
 - не использовать суффкис `_id` в `ForeignKey` или `OneToOneField`
 - не использовать `null=True`, если не используется
 - стоит в каждой не абстрактной модели определять `__str__`
 - для взаимодействия с моделями лучше реализовать менеджер запросов (подобие паттерна репозиторий), чтобы не повторять себя, ограничить проникновение фреймворка в проект и т.д.

---
### Zero-Links
- 

---
### Links
- [[Query (django)]]

---
### Outer links
- https://steelkiwi.com/blog/best-practices-working-django-models-python/