02092022 0942
Tags: #z #dev

---
# Замыкания или фабричный функции

Замыкания - это способность вложенной функции запоминать переменные из области видимости объемлющей функции, даже если области видимости объемлющей функции уже не существует.

```python
def maker(n):
    return lambda x: x * n

m2 = maker(2)
m3 = maker(3)
```

## Пример

В данном случае при вызове функций из списка acts все функции будут возвращать значения x * 4. Это происходит из-за того, что поиск имени i происходит во время вызова лямбда-функции, а на этот момент i уже имеет значение 4.

```python
def fun():
    acts = []

    for i in range(5):
        acts.append(lambda x: x * i)

    return acts
```

Решение

```python
def fun():
    acts = []

    for i in range(5):
        j = i
        acts.append(lambda x: x * j)

    return acts
```

---
### Zero-Links
- 

---
### Links
- [[Область видимости (py)]]
- [[Изучаем Python, Том 1, издание 5, Марк Лутц]] (с. 520)