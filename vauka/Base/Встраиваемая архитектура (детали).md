08012023 1849
Tags: #z #dev

---
# Микропрограммы

Микропрограммы - это категория ПО, которое характеризуется сложностью изменения в процессе совершенствования оборудования, т.е. чем больше ПО связано с оборудованием, тем больше оно считается микропрограммой.

Микропрограммой может также считаться программное обеспечение, в которое внедрен SQL или Android API прямо в бизнес логику (код зависит от платформы).

Хватит писать микропрограммы, не инфицируйте свой код зависимостями от оборудования и платформ.

## Шаги по созданию ПО

- заставьте код работать (нет никакого толку, если он не работает)
- перепишите код правильно (реорганизуйте код так, чтобы его могли понимать и развивать, внедряя новые возможности, другие)
- заставьте код работать быстро (оптимизируйте код)

## Оборудование - это деталь

Для встраиваемого ПО можно применить разделение на 3 уровня. Уровень оборудования, микропрограмма и ПО. Зачастую информация об оборудовании проникает в ПО, тогда ПО становится микропрограммой и получается разделение на 2 уровня (оборудование и микропрограмма). Для того, чтобы избежать этого требуется более четко определить границу между ПО и микропрограммой. Эта граница называется *HAL* (HardwareAbstraction Layer). HAL определяет интерфейс, с которым хочет взаимодействовать ПО, а микропрограмма должна реализовывать этот интерфейс, не раскрывая детали взаимодействия с оборудованием (низкоуровневые детали зависят от высокоуровневых). HAL также позволяет производить тестирование без оборудования.

## ОС - это делать

Слой операционной системы может быть границей, через которую общаются ПО и микропрограммы. Для того, чтобы не зависеть от ОС (может поменяться со временем), нужно добавить новый слой *OSAL* - абстрактный слой операционной системы. Таким образом, ПО будет общаться с OSAL. Если изменится ОС, то не потребуется переписывать кучу кода в ПО, а нужно лишь написать новый слой OSAL (который сумеет взаимодействовать с новой ОС, например, OSALw - для Windows и OSALx - для Linux).

---
### Zero-Links
- [[00 Архитектура]]

---
### Links
- 

---
### Outer links
- [[Чистая архитектура, Роберт Мартин]] (с. 248)