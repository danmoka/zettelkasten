08012023 1752
Tags: #z #dev 

---
# Сервисная архитектура

Сервисы/службы сами по себе не являются архитектурой. *Архитектура определяется границами, которые отделяют высокоуровневые политики от низкоуровневых, и следованием правилам зависимостей.*

Не все службы являются архитектурно значимыми, зачастую они просто отделяют одни функциональные возможности от других, точно также как обычные функции  в рамках монолита. Например, в монолите могут быть функции, которые архитектурно отделены друг от друга и следуют правилам зависимостей, но при этом есть и простые функции, которые отделяют одно поведение от другого. В итоге обращение к сервису/службе - это всего лишь вызов функции через границы процессов/платформ, который стоит дорого.

## Миф о независимости служб

Службы зависимы от общх разделяемых ресурсов на машине, а также от данных, которые передаются между службами. Например, для изменения структур данных (типы, количество полей), передаваемых между службами, придется изменять структуры данных в этих службах, при этом координируя корректную интерпретацию этих данных.

## Миф о независимости разработки и развертывания

Крупные корпоративные продукты могут прекрасно работать и в монолите с несколькими службами.
Разработку и развертывание всё равно придется координировать с другими командами.

## Сквозные задачи

Большое количетсво служб не может решить проблему сквозныз задачах, т.к. изменения потребуется сделать в каждой службе. Для решения сквозных задач требуется следовать правилам SOLID. Надо создать полиморфно расширяемые классы, затем выделить их в отдельный компонент, где будет содержаться базовая (основная) логика, а в других коммпонентах создать классы с деталями реализации (используя паттерн *Стратегия* или *Шаблонный метод*). Тогда для решения сквозных задач потребуется создать новые классы с описанием деталей и подключить их в виде библиотеки в уже скомпилированное приложение.

---
### Zero-Links
- 

---
### Links
- [[Микросервисы, Крис Ричардсон]]
- [[Монолит vs микросервис]]
- [[SOLID]]

### Outer links
- [[Чистая архитектура, Роберт Мартин]] (с. 234)